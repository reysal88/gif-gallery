<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rialo Game</title>
<style>
  body { margin:0; background:#000; color:#fff; text-align:center; font-family:Arial; }
  canvas { display:block; margin:0 auto; background:#000; }
  #restartBtn { margin-top:10px; padding:10px 20px; font-size:16px; display:none; cursor:pointer; }
</style>
</head>
<body>
<h1>Rialo: Catch the Oracle</h1>
<canvas id="gameCanvas" width="400" height="600"></canvas>
<button id="restartBtn">Restart Game</button>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let ship = {x:175, y:540, w:50, h:50, dx:0, speed:5};
let lasers = [];
let monsters = [];
let score=0;
let gameOver=false;

// ===== Controls =====
let touchX = null;
let isTouching = false;

document.addEventListener('keydown', e=>{ if(e.key==='ArrowLeft') ship.dx=-ship.speed; if(e.key==='ArrowRight') ship.dx=ship.speed; if(e.key===' ') shootLaser(); });
document.addEventListener('keyup', e=>{ if(e.key==='ArrowLeft'||e.key==='ArrowRight') ship.dx=0; });

canvas.addEventListener('touchstart', e=>{
  const rect=canvas.getBoundingClientRect();
  touchX=e.touches[0].clientX-rect.left; isTouching=true;
  const touchY=e.touches[0].clientY-rect.top;
  if(touchX>=ship.x && touchX<=ship.x+ship.w && touchY>=ship.y && touchY<=ship.y+ship.h) shootLaser();
});
canvas.addEventListener('touchmove', e=>{ touchX=e.touches[0].clientX-canvas.getBoundingClientRect().left; });
canvas.addEventListener('touchend', e=>{ isTouching=false; });

canvas.addEventListener('click', e=>{
  const rect=canvas.getBoundingClientRect();
  const clickX=e.clientX-rect.left, clickY=e.clientY-rect.top;
  if(clickX>=ship.x && clickX<=ship.x+ship.w && clickY>=ship.y && clickY<=ship.y+ship.h) shootLaser();
});

// ===== Functions =====
function shootLaser(){ lasers.push({x:ship.x+ship.w/2-2.5, y:ship.y, w:5, h:20}); }

function spawnMonster(){ monsters.push({x:Math.random()*(canvas.width-40), y:-40, w:40, h:40}); }

function update(){
  if(gameOver) return;
  // ship
  ship.x+=ship.dx; if(isTouching && touchX!==null) ship.x=touchX-ship.w/2;
  if(ship.x<0) ship.x=0; if(ship.x+ship.w>canvas.width) ship.x=canvas.width-ship.w;
  // lasers
  for(let i=lasers.length-1;i>=0;i--){ lasers[i].y-=7; if(lasers[i].y+lasers[i].h<0) lasers.splice(i,1); }
  // monsters
  for(let i=monsters.length-1;i>=0;i--){
    monsters[i].y+=2;
    if(ship.x<monsters[i].x+monsters[i].w && ship.x+ship.w>monsters[i].x && ship.y<monsters[i].y+monsters[i].h && ship.y+ship.h>monsters[i].y){ gameOver=true; document.getElementById('restartBtn').style.display='inline-block'; }
    for(let j=lasers.length-1;j>=0;j--){ if(lasers[j].x<monsters[i].x+monsters[i].w && lasers[j].x+lasers[j].w>monsters[i].x && lasers[j].y<monsters[i].y+monsters[i].h && lasers[j].y+lasers[j].h>monsters[i].y){ monsters.splice(i,1); lasers.splice(j,1); score+=10; break; } }
    if(monsters[i] && monsters[i].y>canvas.height) monsters.splice(i,1);
  }
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // ship
  ctx.fillStyle='cyan'; ctx.fillRect(ship.x,ship.y,ship.w,ship.h);
  // lasers
  ctx.fillStyle='red'; lasers.forEach(l=>ctx.fillRect(l.x,l.y,l.w,l.h));
  // monsters
  monsters.forEach(m=>{ ctx.fillStyle='purple'; ctx.fillRect(m.x,m.y,m.w,m.h); ctx.fillStyle='yellow'; ctx.font='14px Arial'; ctx.textAlign='center'; ctx.fillText('Oracle',m.x+m.w/2,m.y-5); });
  // score
  ctx.fillStyle='#fff'; ctx.font='20px Arial'; ctx.fillText('Score: '+score,
